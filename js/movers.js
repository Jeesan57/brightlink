// the information for the caraousel page is stored here
let informationArray = [
    {
      title: "Moving Services",
      secondaryCaption: "Relocation Services",
      description: 
        "Planning to Move and looking for a professional and affordable Moving Moving Company in UAE? then you are at right place. The Relocation processes whether for domestic or international environments have always been stressful and arduous for many, and we are here to make it stress-free.",
      textSectionDescription: 
        "Planning to Move and looking for a professional and affordable Moving Moving Company in UAE? then you are at right place. The Relocation processes whether for domestic or international environments have always been stressful and arduous for many, and we are here to make it stress-free. BrightLink Movers in UAE brings a refreshing change to the existing dilemma. Founded in 2013, we have grown into an experienced and customer friendly organization focused on providing our clients with the best moving and Relocation Services in UAE. Many clients have specific and detailed requirements on moving and our professional moving consultants provide smart, interactive and personalized service. We do this by using a variety of methods that ensure that the moving and relocation process occurs without any interruptions or discomfort during the moving process. Our core values are centered on the approach of utmost care and treatment in the relocation of our client's goods and services in the best way possible to ascertain a value that is priceless in this industry. Our team of highly skilled and efficient experts in moving and relocation are passionate and handle their work delicately thus providing reliable service to every one of our clients in their shifting process. Our timely, secure and transparent transport service model makes us the most customer-friendly and efficient house Shifting Service provider in UAE. We provide our relocating and Moving Services throughout UAE. Our packing and transportation facilities are equipped with top-notch and state of the art systems which will provide security to your products and ensure safe handling of your valuables. Our well-trained personals and fully furnished facilities will ensure that every process happens in a smooth and flawless fashion. BrightLink Movers UAE is one of the leading House Movers and Packers in UAE. Our exclusive House Shifting services complemented by the cost-effective process makes us a prime choice in UAE. We offer Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah. BrightLink is the most reliable name when it comes to cost-effective Furniture Moving Service in UAE. Our skilled professionals with years of experience knows how to professionally dismantle, pack and deliver any kinds of furniture. We also install and assemble furniture within hours and also can undertake large quantity Furniture Moving and assembling with given time. We understand the difficulty and importance of Moving Furniture from one place to another on time, hence we evaluate the moving process and take all necessary precautions prior to the move to make the moving process swift, secure and safe. Our Furniture Movers Service in UAE include moving of House, Villa, Flat, Apartment, Office, Shop, Restaurant, Buildings, or Hotels Furniture's. Our professional Furniture Transportation Services in UAE are available round the clock and will get the moving process done perfectly and on time. We handle your expensive Home, Shop, Restaurant and Office Décor and Furniture with immense care and transport to your destination and setup and arrange the furniture’s as per your requirements. Our Furniture Movers Services in UAE are not limited to residential homes only as we offer our services for commercial companies as well. We are good at Shifting Furniture from UAE to any part of the UAE and we Shift House, Villa, Flat, Apartment and Office Furniture's in best professional manner for budget-friendly price.",
      exploreLink: '#movers',
      src: "./images/movers/movers-and-packers.jpg",
      thumbnailSrc: "./images/movers/movers-and-packers.jpg",
    },
    {
      title: "International Movers",
      secondaryCaption: "International Relocation",
      description: 
        "Looking for best affordable International Movers in UAE?. BrightLink International Movers is a professional International Moving Company in UAE, and with years of experience we have performed numerous International Relocation from UAE to almost every part of the world.",
      textSectionDescription: 
        "Moving personal belongings, household goods, furniture’s and very sensitive equipment over long distances and globally can be stressful due to handling, transportation, customs clearance, documentation, and security risks involved but we at BrightLink International Movers UAE provide a flawless door to door International Relocation service and till destination port service, with all these services under one roof customer can choose what service is best for their needs. We execute our International Moving task masterfully from the professional packing to shipping by sea/air/land along with customs clearance, delivery, and unpacking, furniture assembly and removals of debris at your desired destination. Our Expert international relocation consultants are dedicated to every single one of the above processes to ensure impeccable product handling, transfer, and delivery to your destination. Upon availing our International Moving services an expert will be allocated to you for ensuring a smooth transition of the relocation process. A checklist will be devised to you for choosing the required services and if you have any suggestions, they’ll be taken care of as well. This amongst many other schemes will be employed to assist you throughout the process to provide you the nothing less than the absolute best. Amidst our fast, reliable and efficient international relocation, our company can provide shipment in sole containers, FCL/LTL, shared/groupage shipping depending on your requirements. We have teams of dedicated personal for every step of the way to provide an exceptional service to and from any part of the world for most economic rate. We offer International Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah. We provide international moving service from UAE to almost every part of the world including United Kingdom (UK), Europe, America (USA), Canada, Australia, Asia, Middle East and Africa. Our worldwide relocation service from UAE cover North American Counties including, America (USA), Canada, Mexico, Dominican Republic, Haiti, Costa Rica, El Salvador, Jamaica, and South America like Venezuela, Peru, Chile, Brazil, Argentina, Columbia, Bolivia, Paraguay, Ecuador, Guyana, Uruguay, and Oceania Countries such as, Australia, New Zealand, Fiji, and almost all the European Sector, United Kingdom (UK), France, Germany, Spain, Italy, Ireland, Switzerland, Georgia, Hungary, Turkey, Belarus, Greece, Netherland, Serbia, Bosnia and Herzegovina (BIH), Czech Republic, Norway, Ukraine, Sweden, Denmark, Belgium, Austria, Norway, Finland, Cyprus, Slovakia, Latvia, Albania, Slovenia, Azerbaijan, Russia, Romania, Poland, Portugal, Croatia, Moldova, Armenia, Lithuania, Macedonia, Malta, Monaco, Luxembourg, Kazakhstan, and MENA and Levant Countries includes, Egypt, Jordan, Lebanon, Yemen, Iraq, Iran, Syria, and Asian Countries like, India, Pakistan, Philippines, Bangladesh, Nepal, Sri Lanka, China, Afghanistan, Uzbekistan, Indonesia, Singapore, Malaysia, Japan, Thailand, South Korea, Taiwan, Africa, South Africa, Ethiopia, Sudan, Morocco, Somalia, Kenya, Algeria, Mauritania, Eritrea, Senegal, Ghana, Chad, Angola, and almost all other country. For GCC countries like Saudi Arabia (KSA), Oman, Qatar, Kuwait and Bahrain we provide professional global relocation service.",
      exploreLink: '#international',
      src: "./images/movers/international-movers.jpg",
      thumbnailSrc: "./images/movers/international-movers.jpg",
    },
    {
      title: "Office Relocation",
      secondaryCaption: "Commercial Movers",
      description: 
        "We are a trusted name when it comes to professional Office Moving Services in UAE. Office Moving presents a unique case with challenges since unlike our personal lives, businesses cannot afford to take a break in our globally evolving world.",
      textSectionDescription: 
        "Office relocation also involve moving of Office Furniture's, high edge equipment, bulky servers, and high-risk machinery. All these above require a rather professional, delicate touch and we at BrightLink Office Movers in UAE provide just that plus convenience, efficiency, and handling are added to the table. Ranging from customers who require their office material to be moved and set up in as little as a day to those that give time ranged operations, we cater to all our customers' needs and wants. At BrightLink, our office relocating services are licensed, certified and reviewed by top executives to provide a flawless transfer of our clientele. The well-trained personnel and staff are well equipped to handle high tech equipment during both disassembling and assembling the equipment upon reaching their destination. BrightLink offers a renowned service in efficiency, cost-effectiveness and customer satisfaction in the industry. We believe moving and relocating an office is not only about strength and manpower but requires careful planning to adapt to the situation and that is how we tackle this endeavor in the office moving and relocating procedures. We offer one of the finest first-rate packing and removal of services with utmost reliability. Our team of office relocation experts in UAE ensures that our customers are given quality and wholesome service to attain customer satisfaction. We always strive to provide best and professional office moving service in the region. As a prominent Office Shifting Company in UAE, we undertake any kind of Office Shifting in UAE, from small office to large corporate office, we can shift on time at an affordable price. We are best at shifting office from UAE to any part of UAE or worldwide. We offer Office Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#office',
      src: "./images/movers/office-movers.jpg",
      thumbnailSrc: "./images/movers/office-movers.jpg",
    },
    {
      title: "Piano Movers",
      secondaryCaption: "Piano Relocation",
      description: 
        "We offer professional Piano Moving Service in UAE. Pianos require a delicate touch and expert personals for assembling and disassembling before and after relocation, we at BrightLink Piano Movers in UAE have qualified assemblers with a taste for the sound and delicate nature of the instrument; hence they connect with it on a more intrinsic level and handle the process with care and caution.",
      textSectionDescription: 
        "At BrightLink Piano Movers, our professional moving team has extensive experience in moving Concert Grand, Grand Piano and Upright Pianos of all sizes and qualities. The art of transporting value, art and beauty are best left to our experts who have a profound dedication to the music as well. They understand each instrument holds an incomparable invested and sentimental value thus rest assured your music piece is safe with us. A safe trip is assured within one of our freight vehicles and the team fully dedicates to disassemble, pack transfer, and reassemble each piano at a time. We love what we do and that’s why we are best at it. We offer Piano Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#piano',
      src: "./images/movers/piano-movers.jpg",
      thumbnailSrc: "./images/movers/piano-movers.jpg",
    },
    {
      title: "Pet Relocation",
      secondaryCaption: "Pet Movers",
      description: 
        "BrightLink Pet Movers in UAE offer professional Pet Relocation Service. Pets are an indispensable and intrinsic part of our lives and relocation of these extended members of ours can be quite stressful if not handled by experts with the know-how on handling them.",
      textSectionDescription: 
        "The well-being and mental straits invoked need experienced person to handle with the utmost care and to ensure a friendly mental zone for them. We at BrightLink Pet Movers in UAE have all these and more in our minds when handling your loved ones. We offer a full one on one personalized interaction guiding you through each process in detail of your loved one's relocation to their new home and their new adventure. Pets come in different sizes and breeds and some may require additional documents for travel in the case of protected species, while others may require additional protection from heat and prolonged exposure to the sun. These and more, we at BrightLink have a myriad of experts who help our clients all steps along the process to enable safe and stress-free travel of your life companions. We offer Pet Shipping Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#pet',
      src: "./images/movers/pet-relocation.jpg",
      thumbnailSrc: "./images/movers/pet-relocation.jpg",
    },
    {
      title: "Exhibition and Events Moving",
      secondaryCaption: "Exhibition and Events Relocation",
      description: 
        "We offer our extensive Exhibition Relocation services for Fairs and Events of all sizes in UAE. Our experienced team of Exhibition and Event Movers in UAE will pack all your goods with the utmost care and coordinate smooth, secure and timely transportation of the goods.",
      textSectionDescription: 
        "Our Exhibition Moving team will formulate plans and consider every aspect of the transportation process to ensure timely delivery and setting up of events, fair or exhibition. Along with moving we also provide Warehousing and Storage Services so that you can sit back and relax while we take care of all your requirements. We can move your events, exhibition or fair’s from one place to another with a professional touch and can even provide storage and warehousing service if required. We have successfully moved numerous exhibitions, events and fairs over the past years in UAE and we aim to continue delivering our services with an even higher level of competency. We have worked closely with local and international clients thus you can rest assured that the Exhibition Moving process will be swift and secure. We offer Exhibition Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#exhibition',
      src: "./images/movers/exhibition-movers.jpg",
      thumbnailSrc: "./images/movers/exhibition-movers.jpg",
    },
    {
      title: "Warehouse Moving",
      secondaryCaption: "Warehouse Shifting",
      description: 
        "BrightLink Warehouse Movers in UAE is best at performing Warehouse Relocation. Moving Warehouses could be complex and time consuming, and may lead to losses if not planned accurately. To avoid any irregularities during Warehouse Relocation our survey team in UAE conducts a complete analysis of the stock, number and types of equipment and items present in your warehouse.",
      textSectionDescription: 
        "Our Warehouse Movers Service in UAE is one stop solution for any kind of Warehouse Moving, we are capable of moving a small warehouse or a large complex warehouse on time and securely. Evaluating how delicate the goods to be moved are we select the packaging and mode of transportation. Being a pioneer as a Warehouse Mover in UAE we have relocated countless warehouses and its packages including machineries and equipment’s. We also possess all the required vehicles and instruments required for packing and moving different types of goods. We track and monitor the entire logistics process and provide a secure warehouse moving service. Special care is taken for delicate machinery, and bulky and uneven sized items, and with our trusted movers you can be rest assured that all your important documents, databases and packages are safe. custom crates, high tech packaging, safe transportation, experienced staff and complete relocation service from packing, moving, unpacking, arranging, cleaning and removals of debris, you will get the absolute best warehouse moving service in UAE with us at the most economical prices. We offer Warehouse Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#warehouse',
      src: "./images/movers/warehouse-movers.jpg",
      thumbnailSrc: "./images/movers/warehouse-movers.jpg",
    },
    {
      title: "Industrial Relocation",
      secondaryCaption: "Industrial Movers",
      description: 
        "We provide Industry and Factory Relocation, turnkey Plant Relocation and complete removal and installation of production lines including heavy machineries and equipment's.",
      textSectionDescription: 
        "Our industrial move management team in UAE is comprised of trained and experienced Machinery Movers, Equipment Movers, machine operators, fitter and welders capable of any long-lasting task in the shortest possible time. Every Industrial Moving process follows a systematic set of procedures like cleaning, dismantling, packing, transportation and reassembling upon destination. We will also assist you to choose the perfect relocation plan that not only satisfies all your requirements but even surpasses it and eliminate all the risk factors. We also provide custom design solutions for your Machinery and Equipment’s Moving, thus ensuring that it is transported in a corrosion-free environment and is equipped with anti-tilt and shock mechanisms. Moving a machinery or equipment require much skills and experience, and BrightLink Machinery and Equipment’s Movers in UAE is equipped with highly experienced moving staffs who can move single piece of machinery or a large set of equipment’s in given time professionally and safely. As a virtue of our secured logistics and heightened safety and security measures, we are now the best Industrial Movers Service Provider in UAE you can vouch for. We offer Industrial Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#industrial',
      src: "./images/movers/industrial-movers.jpg",
      thumbnailSrc: "./images/movers/industrial-movers.jpg",
    },
    {
      title: "Fine Arts Relocation",
      secondaryCaption: "Fine Art Shipping",
      description: 
        "We pride ourselves on the reputation that our Fine Art Moving Services in UAE have achieved plenty of appreciation both locally and internationally.",
      textSectionDescription: 
        "Our expert Fine Art Movers closely analyze the art, antique or artifacts and take informed steps while Packing and Moving and leads to accurate execution of the Fine Art, Antique and Artefacts moving process. We can handle everything ranging from a small painting or statue to large artefacts, sculptures, priceless furniture, chandeliers and delicate vintage art as well. We also provide unpacking services along with the impeccable installation of the artifacts into a spectacular exhibition-style display. No project is too complex for us be it your personal art or collections of huge art galleries we can successfully deliver your prized possessions in the perfect condition for a budget-friendly price. BrightLink Fine art Relocation in UAE have already established long-term relationships with many known art galleries, studios, and esteemed artists. These relationships make us one of the best Fine Art Movers in UAE. We offer Fine Art Moving Services in and from Dubai, Abu Dhabi, Sharjah, Ajman, Al Ain, Umm Al Quwain (UAQ), Ras Al Khaimah (RAK) and Fujairah.",
      exploreLink: '#art',
      src: "./images/movers/fine-art-relocation.jpg",
      thumbnailSrc: "./images/movers/fine-art-relocation.jpg",
    },
];

// varaibles that keep track of the animation state
let animationRunning = false;
let animationRunningMobile = false;

// number of pages that should be shown in the caraousel slider
let numberOfPages = informationArray.length;

// animates the background images
function backgroundAnimation(element, time) {
  animationRunning = true;
  animationRunningMobile = true;
  var scaleDecrement = 1 / 700;
  var scale = 1.2;
  var instance = window.setInterval(function () {
    // animates on the scale property (1.2 to 1)
    element.style.transform = "scale(" + scale + ")";
    scale = scale - scaleDecrement;
    if (scale < 1) {
      animationRunning = false;
      animationRunningMobile = false;
      element.style.transform = "scale(" + 1 + ")";
      window.clearInterval(instance);
    }
  }, time);
}

// animates the height of a slider element
function heightAnimation(element, startingPercentage, endingPercentage, time) {
  animationRunning = true;
  animationRunningMobile = true;
  // magic value : that looks good
  var increment = (endingPercentage - startingPercentage) / 25;
  var height = startingPercentage;
  var instance = window.setInterval(function () {
    // animating on the height property (starting to ending percentage)
    element.style.height = `${height}%`;
    height = height + increment;
    if (height >= endingPercentage) {
      animationRunning = false;
      animationRunningMobile = false;
      element.style.height = `${endingPercentage}%`;
      window.clearInterval(instance);
    }
  }, time);
}

// animates the text
function textAnimation(element, time) {
  // animation done through css
  animationRunning = true;
  animationRunningMobile = true;
  element.classList.add("animate-text");
  setTimeout(function () {
    animationRunning = false;
    animationRunningMobile = false;
    element.classList.remove("animate-text");
  }, time * 1000);
}

// animates the slidng of caraousel
function slidingAnimation(current, target, time) {
  animationRunning = true;
  let activeContainers = [];
  let { result: places, direction } = countPlaces(current, target); // how many places to slide
  // var distance = places * 100;
  let container = document.getElementById("images-container");
  let imageContainers = document.querySelectorAll(".main .image-container");
  if (imageContainers) {
    for (let i = 0; i < imageContainers.length; i++) {
      // moves all elements
      container.removeChild(imageContainers[i]);
    }
  }
  // creates extra element on the right to move to
  for (let i = 0; i < numberOfPages * 2; i++) {
    let imageContainer = document.createElement("div");
    imageContainer.classList.add("image-container");
    let image = document.createElement("img");
    // current + i - 1 => gives the correct information for the element
    image.src =
      informationArray[(current + i - 1) % numberOfPages].thumbnailSrc;
    image.onclick = function () {
      // image click function
      setPage(((current + i - 1) % numberOfPages) + 1);
    };
    let caption = document.createElement("h1");
    caption.textContent =
      informationArray[(current + i - 1) % numberOfPages].title;
    caption.classList.add("caption");
    let secondaryCaption = document.createElement("p");
    secondaryCaption.textContent =
      informationArray[(current + i - 1) % numberOfPages].secondaryCaption;
    secondaryCaption.classList.add("secondary-caption");
    if (
      informationArray[(current + i - 1) % numberOfPages].thumbnailSrc ===
      informationArray[target - 1].thumbnailSrc
    ) {
      activeContainers = [...activeContainers, imageContainer];
    }
    imageContainer.appendChild(caption);
    imageContainer.appendChild(secondaryCaption);
    imageContainer.appendChild(image);
    container.appendChild(imageContainer);
  }
  var slided = 0;
  //magic number (should be a devisor of 110)
  let stepDistance = 2;

  // animation based on translateX (sliding)
  var instance = window.setInterval(function () {
    let images = document.querySelectorAll(".image-container img");
    let captions = document.querySelectorAll(".image-container .caption");
    let secondaryCaptions = document.querySelectorAll(
      ".image-container .secondary-caption"
    );
    for (let i = 0; i < images.length; i++) {
      images[i].style.transform = "translateX(-" + slided + "%)";
    }
    for (let i = 0; i < captions.length; i++) {
      captions[i].style.transform = "translateX(-" + slided + "%)";
    }
    for (let i = 0; i < secondaryCaptions.length; i++) {
      secondaryCaptions[i].style.transform = "translateX(-" + slided + "%)";
    }
    slided = slided + stepDistance;
    if (slided > places * 110) {
      animationRunning = false;
      for (let i = 0; i < activeContainers.length; i++) {
        // activeContainers[i].classList.add('active-image-container');
        heightAnimation(activeContainers[i], 60, 80, 1);
      }
      window.clearInterval(instance);
    }
  }, time);
}

// similar to larger screens (just on different elements)
function slidingAnimationMobile(current, target, time) {
  animationRunningMobile = true;
  let activeContainers = [];
  let { result: places, direction } = countPlaces(current, target); // how many places to slide
  // var distance = places * 100;
  let container = document.getElementById("mobile-images-container");
  let imageContainers = document.querySelectorAll(
    ".mobile-images-container .image-container"
  );
  if (imageContainers) {
    for (let i = 0; i < imageContainers.length; i++) {
      container.removeChild(imageContainers[i]);
    }
  }
  for (let i = 0; i < numberOfPages * 2; i++) {
    let imageContainer = document.createElement("div");
    imageContainer.classList.add("image-container");
    let image = document.createElement("img");
    image.src =
      informationArray[(current + i - 1) % numberOfPages].thumbnailSrc;
    image.onclick = function () {
      setPageMobile(((current + i - 1) % numberOfPages) + 1);
    };
    if (
      informationArray[(current + i - 1) % numberOfPages].thumbnailSrc ===
      informationArray[target - 1].thumbnailSrc
    ) {
      activeContainers = [...activeContainers, image];
    }
    imageContainer.appendChild(image);
    container.appendChild(imageContainer);
  }
  // let distance = 12.5 * places;
  var slided = 0;
  let stepDistance = 2;
  // if(places > 2) stepDistance = 2;
  // if(places > 3) stepDistance = 5;
  var instance = window.setInterval(function () {
    let images = document.querySelectorAll(".image-container img");
    for (let i = 0; i < images.length; i++) {
      images[i].style.transform = "translateX(-" + slided + "%)";
    }
    slided = slided + stepDistance;
    if (slided > places * 110) {
      animationRunningMobile = false;
      for (let i = 0; i < activeContainers.length; i++) {
        // activeContainers[i].classList.add('active-image-container');
        heightAnimation(activeContainers[i], 60, 80, 1);
      }
      window.clearInterval(instance);
    }
  }, time);
}

// gives the number of iteration to slide on slide started (by button click or image click)
function countPlaces(current, target) {
  let result;
  let direction = 1;
  if (current === target) result = 0;
  else if (target > current) {
    result = target - current;
    direction = 1;
  } else {
    result = numberOfPages - (current - target);
    direction = -1;
  }
  return { result, direction };
}

function setExploreID(element, exploreLink) {
  // for(let i = 0 ; i < informationArray.length; i++)
  // {
  //     let id = informationArray.exploreLink.split('#')[0];
  //     element.removeAttribute(`${id}`);
  // }

  element.removeAttribute("id");
  let id = ("getID" + exploreLink).split("#")[1];
  element.setAttribute("id", id);
}

// sets the page for web
function setPage(pageNumber) {
  if (animationRunning) return;
  let currentInformation = informationArray[pageNumber - 1];
  let backgroundImage = document.getElementById("main-image"); // get
  if (pageNumber !== getCurrentPage()) {
    backgroundAnimation(backgroundImage, 2); // animate
  }
  backgroundImage.src = currentInformation.src; // change src
  let mainTitle = document.getElementById("title"); // get
  mainTitle.textContent = currentInformation.title; // change the title
  textAnimation(mainTitle, 1);

  // set explore link
  let service = document.getElementsByClassName("cargo-service")[0];
  setExploreID(service, currentInformation.exploreLink);

  let gotoButton = document.getElementById("goto-button");
  gotoButton.textContent = currentInformation.title;

  let cargoTitle = document.getElementById("cargo-title");
  cargoTitle.textContent = currentInformation.title; // change the title

  let cargoContent = document.getElementById("cargo-content");
  cargoContent.textContent = getLessText(
    currentInformation.textSectionDescription
  ); // change the title

  let descriptionElement = document.getElementById("description"); // get
  descriptionElement.textContent = currentInformation.description; // change the title
  textAnimation(description, 1);
  slidingAnimation(getCurrentPage(), pageNumber, 2);
  for (let i = 1; i <= numberOfPages; i++) {
    let buttonID = "line-button" + i;
    let button = document.getElementById(buttonID);
    button.classList.remove("active");
    button.textContent = ".";
  }
  // active line-button id (?)
  let activeLineButtonID = "line-button" + pageNumber;
  //make the correct button active
  let activeButton = document.getElementById(activeLineButtonID);
  if (!activeButton.classList.contains("active"))
    activeButton.classList.add("active");
  activeButton.textContent = pageNumber;

  var dots = document.getElementById("cargo-dots");
  dots.style.display = "inline";

  var exploreButton = document.getElementById("explore-button");
  exploreButton.innerHTML = "Explore Services";

  animationRunning = false;
}

// sets the page for mobile
function setPageMobile(pageNumber) {
  let currentInformation = informationArray[pageNumber - 1];
  let backgroundImage = document.getElementById("mobile-main-image"); // get
  if (pageNumber !== getCurrentPage()) backgroundAnimation(backgroundImage, 2); // animate
  backgroundImage.src = currentInformation.src; // change src
  let mainTitle = document.getElementById("mobile-title"); // get
  mainTitle.textContent = currentInformation.title; // change the title
  textAnimation(mainTitle, 1);

  // set explore link
  let service = document.getElementsByClassName("cargo-service")[0];
  setExploreID(service, currentInformation.exploreLink);

  let gotoButton = document.getElementById("goto-button-mobile");
  gotoButton.textContent = currentInformation.title;

  let cargoTitle = document.getElementById("cargo-title");
  cargoTitle.textContent = currentInformation.title; // change the title

  let cargoContent = document.getElementById("cargo-content");
  cargoContent.textContent = getLessText(
    currentInformation.textSectionDescription
  ); // change the title

  let descriptionElement = document.getElementById("mobile-description"); // get
  descriptionElement.textContent = currentInformation.description; // change the title
  textAnimation(descriptionElement, 1);
  // make for mobile
  slidingAnimationMobile(getCurrentPageMobile(), pageNumber, 2);
  for (let i = 1; i <= numberOfPages; i++) {
    let buttonID = "mobile-line-button" + i;
    let button = document.getElementById(buttonID);
    button.classList.remove("active");
    button.textContent = ".";
  }
  // active line-button id (?)
  let activeLineButtonID = "mobile-line-button" + pageNumber;
  //make the correct button active
  let activeButton = document.getElementById(activeLineButtonID);
  if (!activeButton.classList.contains("active"))
    activeButton.classList.add("active");
  activeButton.textContent = pageNumber;

  var dots = document.getElementById("cargo-dots");
  dots.style.display = "inline";

  var exploreButton = document.getElementById("explore-button");
  exploreButton.innerHTML = "Explore Services";

  animationRunningMobile = false;
}

// returns the current page number
function getCurrentPage() {
  let currentPage = 0;
  for (let i = 1; i <= numberOfPages; i++) {
    let buttonID = "line-button" + i;
    let button = document.getElementById(buttonID);
    if (button.textContent !== ".") {
      currentPage = i;
    }
  }
  return currentPage;
}
// returns the current page number for mobile
function getCurrentPageMobile() {
  let currentPage = 0;
  for (let i = 1; i <= numberOfPages; i++) {
    let buttonID = "mobile-line-button" + i;
    let button = document.getElementById(buttonID);
    if (button.textContent !== ".") {
      currentPage = i;
    }
  }
  return currentPage;
}

// 1 or -1

// used by right or left "move-button"
function changeWithLeftRightButton(direction) {
  let currentPage = getCurrentPage();
  if (currentPage + direction <= 0) {
    setPage(numberOfPages);
  } else if (currentPage + direction > numberOfPages) {
    setPage(1);
  } else {
    setPage(currentPage + direction);
  }
}
// 1 or -1
// used by right or left "move-button" for mobile
function changeWithLeftRightButtonMobile(direction) {
  let currentPage = getCurrentPageMobile();
  if (currentPage + direction <= 0) {
    setPageMobile(numberOfPages);
  } else if (currentPage + direction > numberOfPages) {
    setPageMobile(1);
  } else {
    setPageMobile(currentPage + direction);
  }
}
// functionality of explore button
function goExplore() {
  let currentPage = getCurrentPage();
  let currentInformation = informationArray[currentPage - 1];
  window.location = currentInformation.exploreLink;
}
// functionality of explore button mobile
function goExploreMobile() {
  let currentPage = getCurrentPageMobile();
  let currentInformation = informationArray[currentPage - 1];
  window.location = currentInformation.exploreLink;
}

function getLessText(textSectionDescription) {
  let LessText = "";
  let maxWords = 7;
  let currentWords = 0;
  for (let i = 0; i < textSectionDescription.length; i++) {
    if (currentWords >= maxWords) break;
    if (textSectionDescription[i] === ".") currentWords++;
    LessText += textSectionDescription[i];
  }
  return LessText;
}

function readMoreOrLess() {
  var content = document.getElementById("cargo-content");
  var dots = document.getElementById("cargo-dots");
  var exploreButton = document.getElementById("explore-button");

  // get the correct content
  let page = 0;
  for (let i = 0; i < informationArray.length; i++) {
    if (
      informationArray[i].textSectionDescription.includes(content.textContent)
    ) {
      page = i;
      break;
    }
  }

  if (dots.style.display === "none") {
    dots.style.display = "inline";
    exploreButton.innerHTML = "Explore Services";
    content.textContent = getLessText(
      informationArray[page].textSectionDescription
    );
  } else {
    dots.style.display = "none";
    exploreButton.innerHTML = "Read Less";
    content.textContent = informationArray[page].textSectionDescription;
  }
}

function jumpTo(anchor_id) {
  var url = location.href; //Saving URL without hash.
  location.href = anchor_id; //Navigate to the target element.
  history.replaceState(null, null, url); //method modifies the current history entry.
}

function start() {
  // find current anchor link (if any)
  let link = location.href;
  let splitted = link.split("#")[1];
  if (!splitted) {
    // initially set the current page to the first page for mobile
    window.scrollTo(0, 0);
    setPage(1);
    setPageMobile(1);
  }
  else
  {
      let anchor = splitted.split("/")[0];
      let page = 1;

      for(let i = 0; i < informationArray.length; i++)
      {
        if(informationArray[i].exploreLink === ("#"+anchor))
        {
            page = i + 1;
            break;
        }
      }
      setPage(page);
      setPageMobile(page);
      jumpTo('#' + anchor);
  }

}

start();